{% extends "base.html" %}

{% block title %}{{ user.username }}'s Profile - Flask Blog{% endblock %}

{% block content %}
<div class="card">
    <h1>{{ user.username }}'s Profile</h1>
    <p style="margin-top: 10px; color: #7f8c8d;">{{ user.email }}</p>
    <p style="margin-top: 10px;"><strong>{{ user.posts|length }}</strong> posts, <strong>{{ user.comments|length }}</strong> comments</p>
</div>

<h2 style="margin: 30px 0 20px;">Posts by {{ user.username }}</h2>

{% if user.posts %}
    {% for post in user.posts %}
    <div class="card">
        <h3><a href="{{ url_for('view_post', post_id=post.id) }}" style="color: #2c3e50; text-decoration: none;">{{ post.title }}</a></h3>
        <div class="post-meta">Posted on {{ post.created_at.strftime('%B %d, %Y') }}</div>
        <p style="margin-top: 10px;">{{ post.content[:200] }}{% if post.content|length > 200 %}...{% endif %}</p>
        <a href="{{ url_for('view_post', post_id=post.id) }}" class="btn" style="margin-top: 10px;">Read More</a>
    </div>
    {% endfor %}
{% else %}
    <div class="card">
        <p>No posts yet.</p>
    </div>
{% endif %}
{% endblock %}